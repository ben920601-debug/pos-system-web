/* src/css/pages/pos.css */

/* =========================================
   1. 整體佈局 (Layout)
   ========================================= */
.app-container {
    display: grid;
    /* 左側固定 100px | 中間自動 | 右側固定 380px */
    grid-template-columns: 100px 1fr 380px;
    
    /* 強制滿版，不准超出 */
    height: 100vh;
    width: 100vw;
    overflow: hidden; 
    
    background-color: var(--bg-light);
    
    /* 最小寬度保護：如果螢幕太小，這裡允許橫向捲動以免版面崩壞 */
    min-width: 1024px;
    overflow-x: auto; 
}

/* =========================================
   2. 左側功能列 (Sidebar) - 固定不動
   ========================================= */
.sidebar-menu {
    background-color: var(--bg-dark);
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 20px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    z-index: 10;
    
    /* 鎖死寬度 */
    width: 100px;
    min-width: 100px;
    height: 100%; /* 確保高度撐滿 */
    flex-shrink: 0;
    overflow: hidden; /* 左側選單不准捲動 */
}

/* ... (Logo, 時鐘, 選單樣式保持不變，可直接沿用之前的) ... */
.sidebar-menu .logo { color: var(--accent-color); font-weight: bold; font-size: 1.2rem; margin-bottom: 20px; letter-spacing: 1px; }
.system-clock { text-align: center; margin-bottom: 20px; width: 100%; padding: 0 5px; }
.clock-time { color: white; font-size: 1.1rem; font-weight: bold; margin-bottom: 2px; }
.clock-date { color: #90a4ae; font-size: 0.75rem; }
.menu-list { list-style: none; width: 100%; padding: 0; flex: 1; display: flex; flex-direction: column; }
.menu-list li { padding: 20px 0; text-align: center; cursor: pointer; color: #b0bec5; transition: all 0.2s ease; font-size: 0.95rem; display: flex; flex-direction: column; align-items: center; gap: 5px; }
.menu-list li:hover { background-color: rgba(255, 255, 255, 0.1); color: white; }
.menu-list li.active { background-color: var(--primary-color); color: white; border-left: 4px solid var(--accent-color); }
.user-info { padding: 15px; text-align: center; width: 100%; border-top: 1px solid rgba(255,255,255,0.1); }


/* =========================================
   3. 中間商品區 (Product Area) - 只有網格捲動
   ========================================= */
.product-area {
    display: flex;
    flex-direction: column;
    padding: 20px 30px;
    height: 100%;      /* 撐滿高度 */
    overflow: hidden;  /* ★ 關鍵：防止這裡出現全頁捲軸 */
}

/* 標頭固定 */
.product-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-shrink: 0; /* 禁止被壓縮 */
}

.product-header h2 { color: var(--text-main); font-size: 1.5rem; }
.category-tabs { display: flex; gap: 10px; }
.category-tabs button { padding: 8px 20px; border: 1px solid var(--border-color); background-color: white; color: var(--text-secondary); border-radius: 20px; cursor: pointer; transition: 0.3s; font-weight: 500; }
.category-tabs button.active, .category-tabs button:hover { background-color: var(--primary-color); color: white; border-color: var(--primary-color); box-shadow: 0 2px 5px rgba(46, 125, 50, 0.3); }

/* 商品網格 - 自己捲動 */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 20px;
    
    flex: 1;           /* 佔滿剩餘高度 */
    overflow-y: auto;  /* ★ 關鍵：內容多時，只有這個區塊會捲動 */
    
    padding-bottom: 20px;
    padding-right: 5px; /* 預留捲軸空間 */
}

.placeholder-text { grid-column: 1 / -1; text-align: center; padding: 50px; color: #999; font-size: 1.2rem; }
.product-card { background: white; border-radius: 10px; padding: 15px; text-align: center; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; border: 1px solid transparent; display: flex; flex-direction: column; justify-content: space-between; height: 180px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.product-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); border-color: var(--primary-color); }

/* =========================================
   4. 右側結帳面板 (Order Panel) - 分區捲動
   ========================================= */
.order-panel {
    background-color: white;
    border-left: 1px solid var(--border-color);
    display: flex;
    flex-direction: column;
    box-shadow: -5px 0 15px rgba(0,0,0,0.02);
    height: 100%;      /* 撐滿高度 */
    overflow: hidden;  /* 禁止外溢 */
}

/* 上方：明細列表 - 自己捲動 */
.order-list-section {
    flex: 1;           /* 佔滿剩餘高度 */
    overflow-y: auto;  /* ★ 關鍵：只有這裡會捲動 */
    padding: 20px;
}

.order-list-section h3 { color: var(--primary-color); border-bottom: 2px solid var(--bg-light); padding-bottom: 15px; margin-bottom: 15px; font-size: 1.1rem; }
.cart-item-controls { display: flex; align-items: center; gap: 8px; margin-top: 5px; }
.btn-qty { width: 24px; height: 24px; border-radius: 50%; border: 1px solid #ccc; background-color: white; cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: center; transition: 0.2s; font-size: 1rem; padding: 0; color: #555; }
.btn-qty:hover { background-color: #f0f0f0; border-color: #999; }
.btn-qty.minus:hover { color: #e53935; border-color: #e53935; background-color: #ffebee; }
.btn-qty.plus:hover { color: #43a047; border-color: #43a047; background-color: #e8f5e9; }

/* 下方：結帳區 - 固定不動 */
.checkout-section {
    background-color: #fafafa;
    border-top: 1px solid var(--border-color);
    padding: 25px;
    flex-shrink: 0;    /* 禁止被壓縮 */
    /* 這裡不需要 overflow，因為它是固定的 */
}

.summary-row { display: flex; justify-content: space-between; margin-bottom: 12px; color: var(--text-secondary); font-size: 0.95rem; }
.summary-row.total { font-size: 1.6rem; font-weight: 700; color: var(--primary-color); margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ccc; align-items: flex-end; }
.pos-input { width: 120px; padding: 8px 12px; font-size: 1.2rem; text-align: right; border: 2px solid var(--border-color); border-radius: 6px; font-weight: bold; color: var(--text-main); transition: border-color 0.2s; }
.pos-input:focus { outline: none; border-color: var(--primary-color); background-color: #f1f8e9; }
.input-row { align-items: center; margin-top: 15px; }
.change-row { font-size: 1.1rem; margin-top: 10px; }
.btn-checkout { width: 100%; padding: 18px; background-color: var(--primary-color); color: white; border: none; border-radius: 8px; font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 20px; transition: background 0.2s; box-shadow: 0 4px 6px rgba(46, 125, 50, 0.2); }
.btn-checkout:hover { background-color: var(--primary-hover); transform: scale(1.01); }
.btn-checkout:active { transform: scale(0.99); }
.btn-checkout:disabled { background-color: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }
